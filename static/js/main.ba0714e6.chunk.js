(this["webpackJsonpadm-dashboard"]=this["webpackJsonpadm-dashboard"]||[]).push([[0],{72:function(n,e,t){"use strict";t.r(e);var r=t(1),a=t.n(r),c=t(22),o=t.n(c),s=t(11),i=t.n(s),u=t(18),l=t(15),d=t(36),b=t.n(d).a.create({baseURL:"https://attackz-api.herokuapp.com"}),j=t(12),m=(t(65),t(2)),f=a.a.createContext();function h(n){var e=n.children,t=a.a.useState(null),c=Object(l.a)(t,2),o=c[0],s=c[1];function d(){return(d=Object(u.a)(i.a.mark((function n(e){var t,r,a,c,o,u;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.username,r=e.password,n.prev=1,n.next=4,b.post("/auth",{username:t,password:r});case 4:return a=n.sent,c=a.data,b.defaults.headers.common.authorization="Bearer ".concat(c.access_token),n.next=9,b.get("/users",{authorization:"Bearer ".concat(c.access_token)});case 9:o=n.sent,"admin"===(u=o.data).user_type?(localStorage.setItem("@attackz:token",c.access_token),s({id:u.id,user_name:u.user_name}),j.b.success("Welcome ".concat(u.user_name))):j.b.error("This user does not have permission to access the panel"),n.next=18;break;case 15:n.prev=15,n.t0=n.catch(1),j.b.error(String(n.t0.response.data.en));case 18:case 19:case"end":return n.stop()}}),n,null,[[1,15]])})))).apply(this,arguments)}return Object(r.useEffect)((function(){var n=localStorage.getItem("@attackz:token");(b.defaults.headers.common.authorization="Bearer ".concat(n),n)&&function(){var n=Object(u.a)(i.a.mark((function n(){return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,b.get("/users");case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}()().then((function(n){var e=n.data,t=e.id,r=e.user_name;s({id:t,user_name:r})})).catch((function(){j.b.error("You need authenticate")}))}),[]),Object(m.jsx)(f.Provider,{value:{signIn:function(n){return d.apply(this,arguments)},user:o,signOut:function(){localStorage.removeItem("@attackz:token"),s(null),j.b.success("Goodbye")}},children:e})}var p,x=t(5),O=t(6),g=t.p+"static/media/Roboto-Regular.a8d6ac03.ttf",v=Object(O.a)(p||(p=Object(x.a)(["\n    * {\n        padding: 0;\n        margin: 0;\n        box-sizing: border-box;\n    }\n\n    \n    body {\n        background: var(--background);\n    }\n    \n    :root {\n        --background: #08241d;\n        --title-color: #08241d;\n        --button-color: #08241d;\n        --white: #ffffff;\n    }\n\n    // Global Custom Fonts\n    \n    @font-face {\n        font-family: 'Roboto';\n        src: url(",") format('truetype');\n    }\n\n    @font-face {\n        font-family: 'RobotoMedium';\n        src: url(",") format('truetype');\n    }\n"])),g,g);function y(){return Object(r.useContext)(f)}var w,k,_,z,S=t(14),R=t(3),C=O.b.div(w||(w=Object(x.a)(["\n    height: 5rem;\n    width: 100%;\n    \n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n\n    background: var(--white);\n\n    border-bottom: 1px solid #2d2929;\n\n    padding: 1.5rem;\n"]))),I=O.b.header(k||(k=Object(x.a)(["\n    .header__title {\n        font-size: 1.2rem;\n        font-family: RobotoMedium, sans-serif;\n        font-weight: 600;\n        color: var(--title-color);\n\n        padding: 0.25rem 1rem;\n        border: 1px solid #e6e8eb;\n    \n        border-radius: 1rem;\n        \n        strong {\n            color: #49bb25;\n        }\n    }\n"]))),B=O.b.nav(_||(_=Object(x.a)(["\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    \n    gap: 1rem;\n\n    .nav__welcome {\n        color: var(--title-color);\n        font-family: Roboto, sans-serif;\n        font-weight: 400;\n        line-height: 1rem;\n        font-size: 0.9rem;\n    }\n\n    .nav__signOut {\n        background: none;\n        border: none;\n        cursor: pointer;\n\n        font-size: 1.3rem;\n\n        color: #2e384d;\n        \n        &:hover {\n            filter: brightness(0.9);\n        }\n    }\n"]))),N=t(40);function F(){var n=y(),e=n.signOut,t=n.user;return Object(m.jsxs)(C,{children:[Object(m.jsx)(I,{children:Object(m.jsxs)("h1",{className:"header__title",children:[Object(m.jsx)("strong",{children:"Att"}),"ackz"]})}),Object(m.jsxs)(B,{children:[Object(m.jsxs)("p",{className:"nav__welcome",children:["Welcome, ",t.user_name]}),Object(m.jsx)("button",{className:"nav__signOut",onClick:e,children:Object(m.jsx)(N.a,{})})]})]})}var M,P,U,q,A,E=O.b.div(z||(z=Object(x.a)(["\n    display: flex;\n    justify-content: center;\n    flex-direction: column;\n    align-items: center;\n\n    margin: 1rem;\n"])));function G(){return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(F,{}),Object(m.jsx)(E,{children:Object(m.jsx)(S.b,{to:"/new-user",children:"Create new user"})})]})}function J(){return Object(m.jsx)(S.a,{children:Object(m.jsx)(R.c,{children:Object(m.jsx)(R.a,{path:"/",component:G,exact:!0})})})}var W,X,D=Object(O.c)(M||(M=Object(x.a)(["\n    to {\n        transform: translateX(0);\n        opacity: 1;\n    }\n"]))),L=O.b.div(P||(P=Object(x.a)(["\n    height: 100vh;\n    width: 100%;\n\n    display: flex;\n    justify-content: center;\n    align-items: center;\n"]))),T=O.b.div(U||(U=Object(x.a)(["\n    height: 25rem;\n    width: 25rem;\n\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n\n    transform: translateX(-10rem);\n    opacity: 0;\n\n    animation: 0.2s "," ease forwards;\n\n    background: var(--white);\n    box-shadow: 10px 3px 20px rgb(58 58 1 / 10%);\n    border-radius: 0.9rem;\n\n    gap: 1rem;\n\n    padding: 4rem 1rem;\n\n    @media(max-width: 968px){\n        display: flex;\n        \n        margin: 1rem;\n\n        max-width: 23rem;\n    }\n"])),D),Y=O.b.form(q||(q=Object(x.a)(["\n    display: flex;\n    justify-content: center;\n    flex-direction: column;\n\n    gap: 1rem;\n\n    label {\n        display: flex;\n        flex-direction: column;\n\n        span {\n            font-family: Roboto, sans-serif;\n            font-size: 1rem;\n            line-height: 1.5rem;\n            color: #424242;\n        }\n\n        .form__hideIcon {\n            position: relative;\n\n            top: -2rem;\n            left: 0;\n            right: 0;\n\n            margin-left: 17rem;\n        }\n    }\n"]))),H=O.b.input(A||(A=Object(x.a)(["\n    height: 3rem;\n    max-width: 19rem;\n\n    padding: 0.8rem;\n\n    outline: none;\n    background: transparent;\n    border-radius: 0.3rem;\n\n    border: 1px solid rgba(0,0,0,.25);\n"]))),K=O.b.button(W||(W=Object(x.a)(["\n    width: 19rem;\n\n    display: flex;\n    justify-content: center;\n    align-items: center;\n\n    padding: 1rem;\n    \n    background: var(--button-color);\n    border-radius: .3rem;\n    border-style: none;\n\n    font-family: Roboto, sans-serif;\n    font-weight: 600;\n    font-size: 1rem;\n\n    color: var(--white);\n\n    &:hover {\n        filter: brightness(0.9);\n    }\n"])));function Q(n){return Object(m.jsx)(K,{style:{background:n.color},children:n.text})}var V=O.b.h1(X||(X=Object(x.a)(["\n    font-family: Roboto, sans-serif;\n    font-size: 1rem;\n    color: var(--title-color);\n"])));function Z(n){return Object(m.jsx)(V,{style:{background:n.color},children:n.text})}var $=t(42);function nn(){var n=a.a.useState(""),e=Object(l.a)(n,2),t=e[0],r=e[1],c=a.a.useState(""),o=Object(l.a)(c,2),s=o[0],d=o[1],b=a.a.useState(!1),j=Object(l.a)(b,2),f=j[0],h=j[1],p=y().signIn;function x(n){return O.apply(this,arguments)}function O(){return(O=Object(u.a)(i.a.mark((function n(e){return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),t.trim()&&s){n.next=3;break}return n.abrupt("return");case 3:return n.next=5,p({username:t,password:s});case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return Object(m.jsx)(L,{children:Object(m.jsxs)(T,{children:[Object(m.jsx)(Z,{text:"Attackz"}),Object(m.jsxs)(Y,{onSubmit:x,children:[Object(m.jsxs)("label",{children:[Object(m.jsx)("span",{children:"Username"}),Object(m.jsx)(H,{placeholder:"Username..",onChange:function(n){return r(n.target.value)},required:!0})]}),Object(m.jsxs)("label",{children:[Object(m.jsx)("span",{children:"Password"}),Object(m.jsx)(H,{placeholder:"Password..",onChange:function(n){return d(n.target.value)},type:f?"text":"password",required:!0}),Object(m.jsx)("i",{className:"form__hideIcon",onClick:function(){return h(!f)},children:Object(m.jsx)($.a,{})})]}),Object(m.jsx)(Q,{text:"SignIn",onClick:x})]})]})})}function en(){return Object(m.jsx)(S.a,{children:Object(m.jsx)(R.c,{children:Object(m.jsx)(R.a,{path:"/",component:nn,exact:!0})})})}function tn(){var n=y().user;return Object(m.jsx)(m.Fragment,{children:n?Object(m.jsx)(J,{}):Object(m.jsx)(en,{})})}function rn(){return Object(m.jsxs)(h,{children:[Object(m.jsx)(v,{}),Object(m.jsx)(j.a,{style:{padding:"1rem"}}),Object(m.jsx)(tn,{})]})}o.a.render(Object(m.jsx)(a.a.StrictMode,{children:Object(m.jsx)(rn,{})}),document.getElementById("root"))}},[[72,1,2]]]);
//# sourceMappingURL=main.ba0714e6.chunk.js.map